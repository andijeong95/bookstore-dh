<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Include Head con CSS -->
    <%- include("../partials/head.ejs") %>

    <title>Registrate</title>
  </head>
  <body>
    <div class="container">
      <div class="title">
        Registro
        <a href="/"><i class="fa-solid fa-arrow-right-to-bracket"></i></a>
      </div>

      <!-- FORMULARIO DE REGIRSTRO -->
      
      <form method="POST" action="/users/register" enctype="multipart/form-data" >
        
      <!--  Lista donde se almacenan los errores de validaciones Front -->
        <div class="errores">
          <ul></ul>
        </div>
        <!--  -->

        <div class="user-details">

          <div class="input-box">
            <span class="details">Nombre Completo</span>
            <input type="text" name="fullName" class="fullName"  placeholder="Nombre" value="<%= locals.oldData ? oldData.fullName : null  %>"/>
            <% if (locals.errors && errors.fullName) { %>
              <div class="text-danger">
                <%= errors.fullName.msg %> 
              </div>
            <% } %>
          </div>

          <div class="input-box">
            <span class="details">Usuario</span>
            <input type="text" name="userName" class="userName" placeholder="Usuario" value="<%= locals.oldData ? oldData.userName : null  %>" />
            <% if (locals.errors && errors.userName) { %>
              <div class="text-danger">
                <%= errors.userName.msg %> 
              </div>
            <% } %>
          </div>

          <div class="input-box">
            <span class="details">Email</span>
            <input type="text" name="userEmail" class="userEmail" placeholder="Email" value="<%= locals.oldData ? oldData.userEmail : null  %>"/>
            <% if (locals.errors && errors.userEmail) { %>
              <div class="text-danger">
                <%= errors.userEmail.msg %> 
              </div>
            <% } %>
          </div>

          <div class="input-box">
            <span class="details">Contrase√±a</span>
            <input type="password" name="password" class="password" placeholder="Password" value="<%= locals.oldData ? oldData.password : null  %>"/>
            <% if (locals.errors && errors.password) { %>
              <div class="text-danger">
                <%= errors.password.msg %> 
              </div>
            <% } %>
          </div>

          <div class="input-box">
            <span class="details">Numero de Telefono</span>
            <input type="tel" name="phoneNumber" class="phoneNumber" placeholder="Numero de Tel" value="<%= locals.oldData ? oldData.phoneNumber : null  %>"/>
            <% if (locals.errors && errors.phoneNumber) { %>
              <div class="text-danger">
                <%= errors.phoneNumber.msg %> 
              </div>
            <% } %>
          </div>

          <div class="input-box">
            <span class="details">Ciudad</span>
            <input
              type="text"
              name="city"
              class="city"
              placeholder="Ciudad"
              value="<%= locals.oldData ? oldData.city : null  %>"
            />
            <% if (locals.errors && errors.city) { %>
              <div class="text-danger">
                <%= errors.city.msg %> 
              </div>
            <% } %>
          </div>
          
          <div class="input-box">

            <span class="details">Imagen</span>
            <div class="foto-perfil">
              <input 
              type="file" 
              name="avatar" 
              accept=".jpg, .jpeg, .png" 
              multiple id="foto-perfil" 
              class="avatar"
              value=""/>
              
              <label for="foto-perfil"
                ><i class="fa-solid fa-image"></i>Foto de perfil</label>
                <% if (locals.errors && errors.avatar) { %>
                  <div class="text-danger">
                      <%= errors.avatar.msg %> 
                  </div>
              <% } %>
            </div>
          </div>
        </div>

        <div class="input-box">

          <!--  <div class="gender-details">
          <input type="radio" name="gender" id="dot-1" />
          <input type="radio" name="gender" id="dot-2" />
          <input type="radio" name="gender" id="dot-3" />
          <span class="gender-title">Genero</span>
          <div class="category">
            <label for="dot-1">
              <span class="dot one"></span>
              <span class="gender">Masculino</span>
            </label>
            <label for="dot-2">
              <span class="dot two"></span>
              <span class="gender">Femenino</span>
            </label>
            <label for="dot-3">
              <span class="dot three"></span>
              <span class="gender">Prefiero no decirlo</span>
            </label>
          </div> -->
          <div class="button">
            <input type="submit" value="Register" />
          </div>
        </div>
      </form>
    </div>
        <!-- CUSTOM JS -->
        <script src="/JS/validationsFrontRegister-Edit.js"></script>
  </body>
</html>
